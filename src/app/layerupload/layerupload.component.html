<div class="container">
    <form [formGroup]="layerUploadForm" (ngSubmit)="onSubmit()">
        <div class="mb-3">
            <label for="layerName" class="form-label">Layer Name</label>
            <input type="text" class="form-control" id="layerName" formControlName="layerName" />
            <div class="form-text">Try to pick something short. Has to be Alpha Numeric.</div>
            <div class="form-text text-danger" *ngIf="layerName?.invalid  && (layerName?.dirty || layerName?.touched)">
                <div [hidden]="!layerName?.errors?.['required']">
                    Layer Name is required.
                </div>
                <div [hidden]="!layerName?.errors?.['maxlength']">
                    Layer Name max length is 50 characters.
                </div>
                <div [hidden]="!layerName?.errors?.['pattern']">
                    Layer Name must be alpha numeric.
                </div>
            </div>
        </div>
        <app-layertypecontrol [form]="layerUploadForm"></app-layertypecontrol>


        
        <div class="mb-3 row">
            <label for="typeahead-prevent-manual-entry" class="col-xs-3 col-sm-auto col-form-label">Search for a
                state:</label>
            <div class="col">
                <input id="typeahead-prevent-manual-entry" type="text" class="form-control" formControlName="typeAheadModel"
                    [ngbTypeahead]="search" [inputFormatter]="formatter" [resultFormatter]="formatter"
                    [editable]="true" (selectItem)="selectItem($event)" (keyup.enter)="onEnter(typeAheadModel)"/>
            </div>
            <div>
                <span *ngFor="let item of layerTags" class="badge bg-primary">{{item.name}}<i
                        class="bi bi-x-circle-fill" (click)="remove(item)"></i></span>
            </div>
        </div>
        <hr />
        <pre>Model: {{ typeAheadModel?.value | json }}</pre>
        <pre>Multi Model: {{ layerTags | json }}</pre>





        <button type="submit" [disabled]="!layerUploadForm.valid || layerTags.length === 0" class="btn btn-primary">Submit</button>
    </form>
    
</div>